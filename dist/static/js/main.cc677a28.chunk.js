(this.webpackJsonpmarioplan=this.webpackJsonpmarioplan||[]).push([[0],{218:function(e,t,a){e.exports=a(409)},223:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(211),i=a.n(c),l=(a(223),a(8)),s=a(9),o=Object(s.b)(null,(function(e){return{logOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then(e({type:"SIGN_OUT"}))}))}}}))((function(e){var t=e.profile,a=t.firstName?t.firstName[0]+t.lastName[0]:"   ";return r.a.createElement("nav",{className:"nav-wrapper grey darken-4"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(l.c,{to:"/create-project"},"Create Project")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/",onClick:e.logOut},"Log Out")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/",className:"btn btn-floating pink lighten-1"},a)))))})),u=function(){return r.a.createElement("nav",{className:"nav-wrapper grey darken-4"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(l.c,{to:"/sign-in"},"Sign In")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/sign-up"},"Sign Up")))))},m=Object(s.b)((function(e){return{uid:e.firebase.auth.uid,profile:e.firebase.profile}}))((function(e){var t=e.profile,a=e.uid?r.a.createElement(o,{profile:t}):r.a.createElement(u,null);return r.a.createElement("nav",{className:"nav-wrapper grey darken-3 header"},r.a.createElement("div",{className:"container"},r.a.createElement(l.b,{to:"/",className:"brand-logo"},"Project ndak jelasnya Fatwa"),a))})),d=a(12),p=a(13),h=a(15),f=a(14),E=a(45),b=a.n(E),N=function(e){var t,a=e.projects;return t=a.map((function(e){return r.a.createElement("div",{className:"white card",key:e.id},r.a.createElement("div",{className:"card-content"},r.a.createElement(l.b,{to:"projects/"+e.id},r.a.createElement("span",{className:"title"},e.title)),r.a.createElement("p",null,e.body)),r.a.createElement("div",{className:"card-action white grey-text"},r.a.createElement("p",{className:"grey-text"},"Posted by ",e.authorFirstName," ",e.authorLastName),r.a.createElement("p",{className:"grey-text"},b()(e.createdAt.toDate()).calendar())))})),r.a.createElement("div",{className:"container"},t)},v=function(e){var t=e.notifications;return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"center notif-title"},"Notifications"),r.a.createElement("ul",{className:"notification"},t&&t.map((function(e){return r.a.createElement("li",{key:e.id,className:"notification-list"},r.a.createElement("span",{className:"pink-text"}," ",e.content," "),r.a.createElement("span",null,e.user),r.a.createElement("div",{className:"grey-text z-depth-0"},b()(e.time.toDate()).calendar()))}))))))},j=a(28),g=a(22),O=a(3),y=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return this.props.uid?this.props.projects&&this.props.notifications?r.a.createElement("div",{className:"dashboard row "},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement(N,{projects:this.props.projects})),r.a.createElement("div",{className:"col s12 m4"},r.a.createElement(v,{notifications:this.props.notifications}))):r.a.createElement("div",null,"Loading beb sabar yah..."):r.a.createElement(O.Redirect,{to:"/sign-in"})}}]),a}(n.Component),S=Object(g.d)(Object(s.b)((function(e){return{projects:e.firestore.ordered.projects,uid:e.firebase.auth.uid,notifications:e.firestore.ordered.notifications}})),Object(j.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]},{collection:"notifications",limit:3,orderBy:["time","desc"]}]))(y),C=a(26),w=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e.handleChange=function(t){e.setState(Object(C.a)({},t.target.id,t.target.value))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.uid?r.a.createElement(O.Redirect,{to:"/"}):r.a.createElement("form",{onSubmit:this.handleSubmit,className:"container white create-project"},r.a.createElement("h4",null,"Sign In"),r.a.createElement("br",null),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"",type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"",type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("button",{className:"btn blue"},"Submit"),r.a.createElement("div",{className:"red-text center"},r.a.createElement("p",null,t)))}}]),a}(n.Component),I=Object(s.b)((function(e){return{authError:e.auth.authError,uid:e.firebase.auth.uid}}),(function(e){return{signIn:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"LOGIN_SUCCESS",email:e.email})})).catch((function(){t({type:"LOGIN_FAILED"})}))}}(t))}}}))(w),R=a(7),x=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={title:"",body:"",firstName:"",lastName:""},e.handleChange=function(t){var a;e.setState((a={},Object(C.a)(a,t.target.id,t.target.value),Object(C.a)(a,"firstName",e.props.profile.firstName),Object(C.a)(a,"lastName",e.props.profile.lastName),a))},e.handleSubmit=function(t){t.preventDefault(),e.props.createProject(e.state),e.props.history.push("/")},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:" container white create-project",onSubmit:this.handleSubmit},r.a.createElement("h3",{className:"center"},"Create new project"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"body"},"Content"),r.a.createElement("input",{type:"text",id:"body",onChange:this.handleChange})),r.a.createElement("button",{className:"btn"},"Submit"))}}]),a}(n.Component),F=Object(s.b)((function(e){if(e.firebase.profile.firstName)return{profile:e.firebase.profile}}),(function(e){return{createProject:function(t){e(function(e){return function(t,a,n){var r=n.getFirebase;r().firestore().collection("projects").add(Object(R.a)(Object(R.a)({},e),{},{authorFirstName:e.firstName,authorLastName:e.lastName,createdAt:new Date})).then((function(){t({type:"CREATE_PROJECT",project:e})})).catch((function(e){return t({type:"CREATE_PROJECT_ERROR",error:e})})),r().firestore().collection("notifications").add({content:"Project was just added by",user:"".concat(e.firstName," ").concat(e.lastName),time:new Date})}}(t))}}}))(x),k=a(213),A=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={firstName:"",lastName:"",email:"",password:""},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e.handleChange=function(t){e.setState(Object(C.a)({},t.target.id,t.target.value))},e}return Object(p.a)(a,[{key:"render",value:function(){return this.props.uid?r.a.createElement(k.Redirect,{to:"/"}):r.a.createElement("form",{onSubmit:this.handleSubmit,className:"container white create-project "},r.a.createElement("h4",null,"Sign Up")," ",r.a.createElement("br",null),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("button",{className:"btn blue"},"Submit"))}}]),a}(n.Component),P=Object(s.b)((function(e){return{uid:e.firebase.auth.uid}}),(function(e){return{signUp:function(t){return e(function(e){var t=e.firstName,a=e.lastName;return function(n,r,c){var i=c.getFirebase,l=i(),s=i().firestore();l.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(e){s.collection("users").doc(e.user.uid).set({firstName:t,lastName:a})})).then((function(){n({type:"SIGNUP_SUCCESS"})})).catch((function(e){n({type:"SIGNUP_FAILED",error:e})})),l.firestore().collection("notifications").add({content:"Joined the party",user:"".concat(e.firstName," ").concat(e.lastName),time:new Date})}}(t))}}}))(A),D=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.project;return e?r.a.createElement("div",{className:"container section project-details"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"}," ",e.title," "),r.a.createElement("p",null,e.body)),r.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},r.a.createElement("div",null,"Posted by ",e.authorFirstName," ",e.authorLastName),r.a.createElement("div",null,b()(e.createdAt.toDate()).calendar())))):r.a.createElement("div",{className:"container section card"},"Loading....")}}]),a}(n.Component),q=Object(g.d)(Object(s.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.projects;return{project:n?n[a]:null}}),null),Object(j.firestoreConnect)([{collection:"projects"}]))(D),L=a(217);var U=function(e){return r.a.createElement("button",{className:"no-style",onClick:function(){e.onClick()}},e.value)},_=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={squares:Array(9).fill(null),xIsNext:!0,isDone:!1},e}return Object(p.a)(a,[{key:"calculateWinner",value:function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<t.length;a++){var n=Object(L.a)(t[a],3),r=n[0],c=n[1],i=n[2];if(e[r]&&e[r]===e[c]&&e[r]===e[i])return e[i]}return null}},{key:"allIsFilled",value:function(e){this.setState({isDone:!0});for(var t=0;t<e.length;t++)e[t]||this.setState({})}},{key:"handleClick",value:function(e){if(!this.state.isDone){var t=this.state.squares.slice();t[e]=this.state.xIsNext?"X":"O",this.calculateWinner(t)&&this.setState({isDone:!0}),this.setState({squares:t,xIsNext:!this.state.xIsNext})}}},{key:"renderSquare",value:function(e){var t=this;return r.a.createElement(U,{value:this.state.squares[e],onClick:function(){t.handleClick(e)}})}},{key:"render",value:function(){var e,t=this.calculateWinner(this.state.squares);return e=t?"Winner is "+t:"Next player: "+(this.state.xIsNext?"X":"O"),r.a.createElement("div",{className:"center tictactoe"},r.a.createElement("div",{className:"tictactoe-status"},e),r.a.createElement("div",null,this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)),r.a.createElement("div",null,this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)),r.a.createElement("div",null,this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)))}}]),a}(r.a.Component),G=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game-board"},r.a.createElement(_,null)),r.a.createElement("div",{className:"game-info"},r.a.createElement("div",null),r.a.createElement("ol",null)))}}]),a}(r.a.Component);var T=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:""},r.a.createElement(m,null),r.a.createElement(O.Switch,null,r.a.createElement(O.Route,{exact:!0,path:"/",component:S}),r.a.createElement(O.Route,{path:"/projects/:id",component:q}),r.a.createElement(O.Route,{path:"/games/tic-tac-toe",component:G}),r.a.createElement(O.Route,{path:"/sign-in",component:I}),r.a.createElement(O.Route,{path:"/sign-up",component:P}),r.a.createElement(O.Route,{path:"/create-project",component:F})))))},z={authError:null,email:null,isSignedIn:!1,userIsCreated:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return{email:t.email,authError:"Success",isSignedIn:!0};case"LOGIN_FAILED":return Object(R.a)(Object(R.a)({},e),{},{authError:"Username or password might be wrong"});case"SIGN_OUT":return Object(R.a)(Object(R.a)({},e),{},{isSignedIn:!1});case"SIGNUP_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{userIsCreated:!0});case"SIGNUP_FAILED":return Object(R.a)(Object(R.a)({},e),{},{userIsCreated:!1});default:return Object(R.a)(Object(R.a)({},e),{},{authError:null})}},W=a(216),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT":return Object(R.a)(Object(R.a)({},e),{},{projects:[].concat(Object(W.a)(e.projects),[t.project])});case"CREATE_PROJECT_ERROR":default:return e}},K=a(90),X=Object(g.c)({auth:J,project:B,firestore:K.firestoreReducer,firebase:j.firebaseReducer}),H=a(214),V=a(215),Z=a.n(V),M=(a(404),a(407),Z.a);M.initializeApp({apiKey:"AIzaSyDWz3xh5HGGqnvloxqzaRaLVTEySK15zu0",authDomain:"learn-marioplan-ef69a.firebaseapp.com",databaseURL:"https://learn-marioplan-ef69a.firebaseio.com",projectId:"learn-marioplan-ef69a",storageBucket:"learn-marioplan-ef69a.appspot.com",messagingSenderId:"1008850152304",appId:"1:1008850152304:web:05db6a3965dc993ee87db5",measurementId:"G-FNJRBD97RZ"}),M.firestore();var Q=M,Y=Object(g.e)(X,Object(g.d)(Object(g.a)(H.a.withExtraArgument({getFirebase:j.getFirebase})),Object(j.reduxFirebase)(Q,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0}),Object(K.reduxFirestore)(Q)));Y.firebaseAuthIsReady.then((function(){i.a.render(r.a.createElement(s.a,{store:Y},r.a.createElement(T,null)),document.getElementById("root"))}))}},[[218,1,2]]]);
//# sourceMappingURL=main.cc677a28.chunk.js.map